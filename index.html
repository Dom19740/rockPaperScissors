<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>

    function getComputerChoice(){    //function to getComputerChoice

        //write a variable with 3 options, print 1 option
        let options = ['rock', 'paper', 'scissors'];
    
        //randomly return computerSelection: either Rock Paper or Scissors
        computerSelection = options[Math.floor(Math.random() * options.length)];
        console.log("Cpu chooses " + computerSelection); //DELETE
        return computerSelection;
    }
      
        
    function getplayerChoice(){     //function to getplayerChoice
    
        //convet prompt input to lower case
        playerSelection = input.toLowerCase();
            
        //get valid response from input
        let validResponse = 0;
        while (validResponse == 0){
            
            if (playerSelection == 'rock' || playerSelection == 'paper' || playerSelection == 'scissors'){
                validResponse = 1;
                
            } else { //while input isnt rock/paper/scissors, prompt again
                validResponse = 0;
                input = prompt("Enter ONLY Rock, Paper or Scissors");
                playerSelection = input.toLowerCase();
            }
            
        console.log("You choose " + playerSelection); //DELETE
        return playerSelection;
        }
    }
    

    function playRound(){       //function to play 1 round
        
        //take 2 parameters playerSelection and computerSelection and compare
        if ((computerSelection == 'rock' && playerSelection == 'scissors') || 
            (computerSelection == 'paper' && playerSelection == 'rock') ||
            (computerSelection == 'scissors' && playerSelection == 'paper')){

            //RETURN a string that declares winner
            return 'computerWin';
            
        } else if ((computerSelection == 'scissors' && playerSelection == 'rock') ||
                (computerSelection == 'rock' && playerSelection == 'paper') ||
                (computerSelection == 'paper' && playerSelection == 'scissors')){

                //RETURN a string that declares winner
                return 'playerWin';

         } else {
            return 'draw';
         }   
    }
    

    function game(){ //play 5 rounds and keep score 
        
        let computerScore = 0;
        let playerScore = 0;
        let drawScore = 0;

        for (let i = 0; i < 5; i++){
            
            console.log("\n" + "Game No." + (i + 1));

            getplayerChoice(input = prompt("Enter Rock, Paper or Scissors"));   //call getPlayerChoice function
            getComputerChoice();                                                //call getComputerChoice function
            playRound(computerSelection, playerSelection);                      //call playRound function
            
            if (playRound() == 'computerWin'){
                console.log('You Lose! ' + computerSelection + ' beats ' + playerSelection);
                computerScore++;
                
            } else if(playRound() == 'playerWin'){
                console.log('You Win! ' + playerSelection + ' beats ' + computerSelection);
                playerScore++;
                
            } else {
                console.log("It's a draw!");
                drawScore++;
                
            }
            }
            
        //print out the winner
        if (computerScore > playerScore){
            console.log("You LOST " + computerScore + " - " + playerScore);
        } else if (playerScore > computerScore){
            console.log("You WON " + playerScore + " - " + computerScore);
        } else {
            console.log("It was a DRAW, what a waste of everyone's time"); //return a winner/loser
        }
    }        

    game();
 
    </script>
    
</body>
</html>